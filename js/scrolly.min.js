$(document).ready(function(){function i(){var i,t,e=$(window).scrollTop(),o=$(".scroll-pane").offset().top,c=o-e
$(".section").css("min-height",s),i=$("#sidebar .section").length,t=i*s-s,$(".section").each(function(i){var e=$(this).parent().outerHeight()-t,o=$(this).position().top,a=o+s
i*s>=o?($("h4",this).addClass("snap").css({bottom:"inherit",top:i*s+c+"px"}),$("h4",this).siblings().css("padding-top",s+"px")):a>=e?$("h4",this).addClass("snap").css({top:"inherit",bottom:t+"px"}):($("h4",this).removeClass("snap").css({bottom:"inherit",top:"inherit"}),$("h4",this).siblings().css("padding-top","inherit")),t-=s})}var s=$("#sidebar .section h4").outerHeight()
$(".section .link").click(function(){var i,t,e,o
$(this).closest(".section").children(".body").show(),$(this).closest(".label").children(".tick").removeClass("ticked"),i=$(".scroll-pane").scrollTop(),t=$(this).closest(".section").index(),e=t*s,o=i+$(this).closest(".section").position().top-e,$(".scroll-pane").animate({scrollTop:o})}),$(".section .tick").click(function(){$(this).closest(".section").children(".body").toggle(),$(this).toggleClass("ticked"),i()}),i(),$(".scroll-pane").scroll(function(){i()}).trigger("scroll"),window.onresize=function(){i()},setTimeout(function(){$(".scroll-pane").append('<div class="section seven"><h4 class="title"><a href="#" class="label"><div class="tick sprite-mid"><i></i></div> Section 7<i class="status sprite-main"></i></a></h4><div class="body"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam porta ipsum a leo malesuada, sed aliquet justo eleifend. Sed vehicula pretium libero, id congue purus lobortis eget. Maecenas iaculis congue vehicula. Aliquam erat volutpat. Sed vitae facilisis nisi, nec scelerisque nulla. Maecenas a lacus euismod, tincidunt mauris at, sagittis tortor. Donec ullamcorper tortor arcu, a malesuada diam posuere id. Phasellus id ullamcorper quam.</p></div></div>'),i()},2e3)})
